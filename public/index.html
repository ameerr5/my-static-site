<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Employee Management Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* small custom styles */
    .sidebar-shadow { box-shadow: 0 2px 12px rgba(0,0,0,0.06); }
    .table-fixed thead th { position: sticky; top: 0; background: white; }
  </style>
</head>
<body class="bg-gray-50 min-h-screen font-inter">
  <div class="flex">
    <!-- Sidebar -->
    <aside class="w-72 bg-white h-screen p-6 sidebar-shadow hidden lg:block">
      <div class="flex items-center gap-3 mb-8">
        <div class="w-10 h-10 bg-indigo-600 rounded flex items-center justify-center text-white font-bold">EM</div>
        <div>
          <h1 class="text-lg font-semibold">EmployeeMS</h1>
          <p class="text-sm text-gray-500">Admin Dashboard</p>
        </div>
      </div>

      <nav class="space-y-2">
        <a href="#" class="flex items-center gap-3 px-3 py-2 rounded text-gray-700 bg-gray-100">
          <!-- Dashboard icon -->
          <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h18v18H3z"/></svg>
          Dashboard
        </a>
        <a href="#employees" class="flex items-center gap-3 px-3 py-2 rounded hover:bg-gray-100 text-gray-600">Employees</a>
        <a href="#attendance" class="flex items-center gap-3 px-3 py-2 rounded hover:bg-gray-100 text-gray-600">Attendance</a>
        <a href="#reports" class="flex items-center gap-3 px-3 py-2 rounded hover:bg-gray-100 text-gray-600">Reports</a>
        <a href="#settings" class="flex items-center gap-3 px-3 py-2 rounded hover:bg-gray-100 text-gray-600">Settings</a>
      </nav>

      <div class="mt-8 text-sm text-gray-500">
        <p>Logged as: <span class="font-medium text-gray-800">Admin</span></p>
      </div>
    </aside>

    <!-- Main content -->
    <main class="flex-1 p-6">
      <!-- Topbar -->
      <header class="flex items-center justify-between mb-6">
        <div>
          <h2 class="text-2xl font-semibold">Dashboard</h2>
          <p class="text-sm text-gray-500">Overview of employees and activity</p>
        </div>
        <div class="flex items-center gap-3">
          <button id="addEmployeeBtn" class="bg-indigo-600 text-white px-4 py-2 rounded shadow">+ Add Employee</button>
          <div class="flex items-center gap-3">
            <input id="globalSearch" type="search" placeholder="Search employees..." class="px-3 py-2 border rounded w-64" />
          </div>
        </div>
      </header>

      <!-- KPI cards -->
      <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
        <div class="bg-white p-4 rounded shadow-sm">
          <p class="text-sm text-gray-500">Total Employees</p>
          <p id="totalEmployees" class="text-2xl font-bold mt-2">58</p>
        </div>

        <div class="bg-white p-4 rounded shadow-sm">
          <p class="text-sm text-gray-500">Active Today</p>
          <p id="activeToday" class="text-2xl font-bold mt-2">46</p>
        </div>

        <div class="bg-white p-4 rounded shadow-sm">
          <p class="text-sm text-gray-500">Departments</p>
          <p id="totalDepartments" class="text-2xl font-bold mt-2">6</p>
        </div>

        <div class="bg-white p-4 rounded shadow-sm">
          <p class="text-sm text-gray-500">Pending Onboarding</p>
          <p id="pendingOnboard" class="text-2xl font-bold mt-2 text-amber-600">3</p>
        </div>
      </section>

      <!-- Employees table -->
      <section id="employees" class="bg-white p-4 rounded shadow-sm">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-lg font-semibold">Employees</h3>
          <div class="flex items-center gap-3">
            <select id="filterDept" class="px-3 py-2 border rounded">
              <option value="">All Departments</option>
              <option>Engineering</option>
              <option>Sales</option>
              <option>HR</option>
              <option>Finance</option>
            </select>
            <select id="filterStatus" class="px-3 py-2 border rounded">
              <option value="">All Status</option>
              <option>Active</option>
              <option>On Leave</option>
              <option>Inactive</option>
            </select>
          </div>
        </div>

        <div class="overflow-x-auto">
          <table class="min-w-full divide-y table-fixed">
            <thead class="border-b">
              <tr>
                <th class="text-left p-3 w-1/12">#</th>
                <th class="text-left p-3 w-2/12">Name</th>
                <th class="text-left p-3 w-2/12">Email</th>
                <th class="text-left p-3 w-2/12">Department</th>
                <th class="text-left p-3 w-1/12">Role</th>
                <th class="text-left p-3 w-1/12">Status</th>
                <th class="text-left p-3 w-2/12">Actions</th>
              </tr>
            </thead>
            <tbody id="employeesTbody" class="text-sm divide-y">
              <!-- rows populated by JS -->
            </tbody>
          </table>
        </div>

        <div class="flex items-center justify-between mt-4">
          <p id="tableInfo" class="text-sm text-gray-500">Showing 0 of 0 employees</p>
          <div class="space-x-2">
            <button id="prevPage" class="px-3 py-1 border rounded">Prev</button>
            <button id="nextPage" class="px-3 py-1 border rounded">Next</button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Modal: Add / Edit Employee -->
  <div id="modal" class="fixed inset-0 bg-black/40 hidden items-center justify-center p-4">
    <div class="bg-white rounded-lg w-full max-w-2xl p-6">
      <div class="flex items-center justify-between mb-4">
        <h4 id="modalTitle" class="text-lg font-semibold">Add Employee</h4>
        <button id="closeModal">âœ•</button>
      </div>

      <form id="employeeForm" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm text-gray-600">Full Name</label>
          <input id="name" class="w-full px-3 py-2 border rounded" required />
        </div>
        <div>
          <label class="block text-sm text-gray-600">Email</label>
          <input id="email" type="email" class="w-full px-3 py-2 border rounded" required />
        </div>
        <div>
          <label class="block text-sm text-gray-600">Department</label>
          <select id="department" class="w-full px-3 py-2 border rounded">
            <option>Engineering</option>
            <option>Sales</option>
            <option>HR</option>
            <option>Finance</option>
          </select>
        </div>
        <div>
          <label class="block text-sm text-gray-600">Role</label>
          <input id="role" class="w-full px-3 py-2 border rounded" />
        </div>
        <div>
          <label class="block text-sm text-gray-600">Status</label>
          <select id="status" class="w-full px-3 py-2 border rounded">
            <option>Active</option>
            <option>On Leave</option>
            <option>Inactive</option>
          </select>
        </div>
        <div>
          <label class="block text-sm text-gray-600">Phone</label>
          <input id="phone" class="w-full px-3 py-2 border rounded" />
        </div>

        <div class="sm:col-span-2 text-right mt-2">
          <button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded">Save</button>
          <button type="button" id="cancelForm" class="px-4 py-2 border rounded ml-2">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Sample employees
    const data = [
      {id:1,name:'Aisha Khan', email:'aisha@example.com', department:'Engineering', role:'Developer', status:'Active', phone:'0300-1111111'},
      {id:2,name:'Bilal Ahmed', email:'bilal@example.com', department:'Sales', role:'Sales Exec', status:'Active', phone:'0300-2222222'},
      {id:3,name:'Sana Raza', email:'sana@example.com', department:'HR', role:'HR Manager', status:'On Leave', phone:'0300-3333333'},
      {id:4,name:'Usman Ali', email:'usman@example.com', department:'Finance', role:'Accountant', status:'Active', phone:'0300-4444444'},
      {id:5,name:'Mariam Noor', email:'mariam@example.com', department:'Engineering', role:'QA', status:'Inactive', phone:'0300-5555555'},
      // ... more sample rows
    ];

    let filtered = [...data];
    const pageSize = 5;
    let currentPage = 1;

    const tbody = document.getElementById('employeesTbody');
    const totalEmployeesEl = document.getElementById('totalEmployees');
    const activeTodayEl = document.getElementById('activeToday');

    function renderTable() {
      tbody.innerHTML = '';
      const start = (currentPage-1)*pageSize;
      const pageData = filtered.slice(start, start+pageSize);
      pageData.forEach((emp, idx) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td class="p-3">${start + idx + 1}</td>
          <td class="p-3 font-medium">${emp.name}</td>
          <td class="p-3">${emp.email}</td>
          <td class="p-3">${emp.department}</td>
          <td class="p-3">${emp.role}</td>
          <td class="p-3">${emp.status}</td>
          <td class="p-3">
            <button onclick="editEmployee(${emp.id})" class="px-2 py-1 border rounded text-sm">Edit</button>
            <button onclick="deleteEmployee(${emp.id})" class="px-2 py-1 border rounded text-sm ml-2">Delete</button>
          </td>
        `;
        tbody.appendChild(tr);
      });

      document.getElementById('tableInfo').textContent = `Showing ${Math.min(filtered.length, start+1)} - ${Math.min(filtered.length, start+pageSize)} of ${filtered.length} employees`;
      totalEmployeesEl.textContent = data.length;
      activeTodayEl.textContent = data.filter(e=> e.status === 'Active').length;
    }

    // Filters & Search
    document.getElementById('globalSearch').addEventListener('input', (e)=>{
      applyFilters();
    });
    document.getElementById('filterDept').addEventListener('change', applyFilters);
    document.getElementById('filterStatus').addEventListener('change', applyFilters);

    function applyFilters(){
      const q = document.getElementById('globalSearch').value.trim().toLowerCase();
      const dept = document.getElementById('filterDept').value;
      const status = document.getElementById('filterStatus').value;

      filtered = data.filter(emp => {
        if(dept && emp.department !== dept) return false;
        if(status && emp.status !== status) return false;
        if(q){
          return [emp.name, emp.email, emp.department, emp.role].join(' ').toLowerCase().includes(q);
        }
        return true;
      });
      currentPage = 1;
      renderTable();
    }

    // Pagination
    document.getElementById('prevPage').addEventListener('click', ()=>{ if(currentPage>1){ currentPage--; renderTable(); }});
    document.getElementById('nextPage').addEventListener('click', ()=>{ if(currentPage*pageSize < filtered.length){ currentPage++; renderTable(); }});

    // Modal
    const modal = document.getElementById('modal');
    const addBtn = document.getElementById('addEmployeeBtn');
    const closeModal = document.getElementById('closeModal');
    const cancelForm = document.getElementById('cancelForm');

    addBtn.addEventListener('click', ()=>{
      openModal();
    });
    closeModal.addEventListener('click', ()=> modal.classList.add('hidden'));
    cancelForm.addEventListener('click', ()=> modal.classList.add('hidden'));

    function openModal(edit=null){
      modal.classList.remove('hidden');
      document.getElementById('employeeForm').reset();
      document.getElementById('modalTitle').textContent = edit ? 'Edit Employee' : 'Add Employee';
      if(edit){
        const emp = data.find(x=> x.id === edit);
        if(emp){ document.getElementById('name').value = emp.name; document.getElementById('email').value = emp.email; document.getElementById('department').value = emp.department; document.getElementById('role').value = emp.role; document.getElementById('status').value = emp.status; document.getElementById('phone').value = emp.phone; document.getElementById('employeeForm').dataset.editId = emp.id; }
      } else delete document.getElementById('employeeForm').dataset.editId;
    }

    document.getElementById('employeeForm').addEventListener('submit',(e)=>{
      e.preventDefault();
      const form = e.target;
      const record = {
        id: form.dataset.editId ? Number(form.dataset.editId) : (Math.max(0,...data.map(d=>d.id))+1),
        name: document.getElementById('name').value.trim(),
        email: document.getElementById('email').value.trim(),
        department: document.getElementById('department').value,
        role: document.getElementById('role').value.trim(),
        status: document.getElementById('status').value,
        phone: document.getElementById('phone').value.trim()
      };

      if(form.dataset.editId){
        const idx = data.findIndex(d=> d.id === record.id);
        data[idx] = record;
      } else {
        data.push(record);
      }
      modal.classList.add('hidden');
      applyFilters();
    });

    // Edit / Delete functions
    window.editEmployee = function(id){ openModal(id); }
    window.deleteEmployee = function(id){ if(confirm('Delete this employee?')){ const idx = data.findIndex(d=> d.id===id); if(idx>-1){ data.splice(idx,1); applyFilters(); } }}

    // initial render
    applyFilters();
  </script>
</body>
</html>
